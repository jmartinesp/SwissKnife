<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.0">
<title>SwissKnife</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic|Noto+Serif:400,400italic,700,700italic|Droid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-check-square-o:first-child,ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after,a[href^="mailto:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js"></script>
<script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>SwissKnife</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_intro">1. Intro</a>
<ul class="sectlevel2">
<li><a href="#_annotations">1.1. Annotations</a></li>
<li><a href="#_injecting_views_and_listeners">1.2. Injecting Views and Listeners</a></li>
<li><a href="#_method_declaration">1.3. Method declaration</a></li>
</ul>
</li>
<li><a href="#_groovy">2. Groovy</a>
<ul class="sectlevel2">
<li><a href="#_android_studio">2.1. Android Studio</a></li>
<li><a href="#_gradle">2.2. Gradle</a></li>
<li><a href="#_references">2.3. References</a></li>
</ul>
</li>
<li><a href="#_annotations_2">3. Annotations</a>
<ul class="sectlevel2">
<li><a href="#__onclick">3.1. @OnClick</a></li>
<li><a href="#__onlongclick">3.2. @OnLongClick</a></li>
<li><a href="#__onitemclick">3.3. @OnItemClick</a></li>
<li><a href="#__onitemlongclick">3.4. @OnItemLongClick</a></li>
<li><a href="#__onitemselected">3.5. @OnItemSelected</a></li>
<li><a href="#__onchecked">3.6. @OnChecked</a></li>
<li><a href="#__onfocuschanged">3.7. @OnFocusChanged</a></li>
<li><a href="#__ontouch">3.8. @OnTouch</a></li>
<li><a href="#__onpagechanged">3.9. @OnPageChanged</a></li>
<li><a href="#__ontextchanged">3.10. @OnTextChanged</a></li>
<li><a href="#__oneditoraction">3.11. @OnEditorAction</a></li>
<li><a href="#__onuithread">3.12. @OnUIThread</a></li>
<li><a href="#__onbackground">3.13. @OnBackground</a></li>
<li><a href="#__saveinstance">3.14. @SaveInstance</a></li>
<li><a href="#__parcelable">3.15. @Parcelable</a></li>
<li><a href="#__extra">3.16. @Extra</a></li>
</ul>
</li>
<li><a href="#_dsl_methods_aka_method_extensions">4. DSL Methods - aka method extensions</a>
<ul class="sectlevel2">
<li><a href="#_types_of_dsl_methods">4.1. Types of DSL methods</a></li>
<li><a href="#_view_methods">4.2. View methods</a></li>
<li><a href="#_context_methods">4.3. Context methods</a></li>
<li><a href="#_fragment_methods">4.4. Fragment methods</a></li>
<li><a href="#_bundle_methods">4.5. Bundle methods</a></li>
<li><a href="#_event_methods">4.6. Event methods</a></li>
<li><a href="#_misc_methods">4.7. Misc methods</a></li>
</ul>
</li>
<li><a href="#_using_proguard">5. Using Proguard</a>
<ul class="sectlevel2">
<li><a href="#_reflection_and_proguard_issues">5.1. Reflection and ProGuard issues</a></li>
</ul>
</li>
<li><a href="#_intellij_plugin">6. Intellij Plugin</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>A Swiss army Knife is like a Dagger, but although it may be less sharp, it can
be more handy</p>
</div>
</blockquote>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/intro_swissknife_logo.png" alt="intro swissknife logo">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_intro">1. Intro</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SwissKnife</strong> is a multi-purpose library based -only in behavior, not in code- on
other libraries such as <a href="https://github.com/JakeWharton/butterknife">ButterKnife</a> or
<a href="https://github.com/excilys/androidannotations">AndroidAnnotations</a>.</p>
</div>
<div class="paragraph">
<p>This library is only compatible with <a href="http://www.groovy-lang.org">Groovy</a> language
as it uses its AST processing to generate the final code.  If you don&#8217;t use
Groovy on your Android projects yet, you can find some info about how to use it
here.</p>
</div>
<div class="paragraph">
<p>Don&#8217;t be afraid of using Groovy,
<a href="http://developer.android.com/tools/studio/index.html">Android Studio</a> supports it
really well, its syntax is almost the same as Java&#8217;s, it&#8217;s compatible with
Dalvik and ART and can be mixed with your existing Java code. Also, most times
turning a Java class into a Groovy one is as easy as changing the file extension
from <strong>.java</strong> to <strong>.groovy</strong>.</p>
</div>
<div class="sect2">
<h3 id="_annotations">1.1. Annotations</h3>
<div class="paragraph">
<p>SwissKnife is heavily based on annotations. Most annotations will need only one
parameter named value which can be a View id or a list of ids. When it&#8217;s the
only annotation parameter, the <strong>"value="</strong> part can be ignored.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@InjectView(R.id.first_button)
Button firstButton

@InjectView(value=R.id.button)
Button myButton;

// To inject several views, the annotation is @InjectViews, in plural
@InjectViews([R.id.view_1, R.id.view_2])
List&lt;View&gt; myViews;

// This case here is special. If the name of the field is the same as the id,
// the @InjectView annotation doesn't need any parameters
@InjectView()
Button button_1;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also, you can have several listener injection methods. When the listener is
triggered on the provided view, they will execute the code specified in the
method. On some annotations, a <strong>"method"</strong> parameter is also required to specify
which method of the listener interface will be triggered.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">    @OnClick(R.id.first_button)
    public void clicked() {
        firstButton.setText("I've been clicked! Click me longer!")
    }

    @OnClick([R.id.third_button, R.id.fourth_button])
    public void onClick() {
        Toast.makeText(
            this, "Button three or four has been clicked", Toast.LENGTH_SHORT).show()
    }

    @OnTextChanged(value = R.id.edit_text, method = OnTextChanged.Method.ON_TEXT_CHANGED)
    public void onTextChanged(CharSequence sequence) {
        writtenTextView.setText(sequence)
    }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_injecting_views_and_listeners">1.2. Injecting Views and Listeners</h3>
<div class="paragraph">
<p>To make those annotations work, both view injection and listener injection, you
will need to tell your class to use SwissKnife. You can do it like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">// Inject an Activity or a View in which "findViewById()" method is accesible
SwissKnife.inject(Object objectInjected);

// If you are using a Fragment or want to inject a View's children into any object, you use this
SwissKnife.inject(Object objectInjected, View viewToInject);</code></pre>
</div>
</div>
<div class="paragraph">
<p>For example, in an Activity, you would do it like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">SwissKnife.inject(this);</code></pre>
</div>
</div>
<div class="paragraph">
<p>And in a Fragment, it would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">SwissKnife.inject(this, getView());</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also  inject views and listeners on other objects, like a Controller or a Presenter like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">SwissKnife.inject(controller, view);</code></pre>
</div>
</div>
<div class="paragraph">
<p>This means that injection can be used on any class and is done on runtime, so
you can choose when you want that injection to happen.</p>
</div>
</div>
<div class="sect2">
<h3 id="_method_declaration">1.3. Method declaration</h3>
<div class="paragraph">
<p>As stated before, annotated method declarations can&#8217;t be anything you want, as
this library uses reflection to call them and must have a specified argument
structure. To see compatible declarations with each annotation, please visit
their wiki pages.</p>
</div>
<div class="paragraph">
<p>Also, as I realized this was difficult to remember, I started working on an
IntelliJ Plugin which creates the annotations, the declarations and imports the
needed classes for you. You can find it <a href="#_intellij_plugin">here</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/intro_intellij_plugin.jpg" alt="intro intellij plugin">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_groovy">2. Groovy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Okay, so you&#8217;ve seen this project and wondered WTF is <a href="http://groovy-lang.org">Groovy</a>. You&#8217;ve made some research, and seen how awesome it is.</p>
</div>
<div class="paragraph">
<p>So, do you want to use it on your Android application development? Here&#8217;s how.</p>
</div>
<div class="sect2">
<h3 id="_android_studio">2.1. Android Studio</h3>
<div class="paragraph">
<p>First of all, Android Studio has native Groovy support, so here you don&#8217;t really have to add anything.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Every Groovy class or Java class which references a Groovy one must be inside of <code>src/main/groovy</code> instead of <code>src/main/java</code>. To add a Groovy class you&#8217;ll only need to create your new Class files as a <code>.groovy</code> file, instead of a Java class (you could define your own template on IDEA&#8217;s or Android Studio&#8217;s Settings &gt; File Code and Templates).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_gradle">2.2. Gradle</h3>
<div class="paragraph">
<p>In order to make Android Studio compile your Android Groovy code, you will need a plugin and a few changes at your module&#8217;s build.gradle:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:1.0.0'
        classpath 'org.codehaus.groovy:gradle-groovy-android-plugin:0.3.5'
    }
}

apply plugin: 'com.android.application'
apply plugin: 'groovyx.grooid.groovy-android'

dependencies{
    compile 'org.codehaus.groovy:groovy:2.4.3:grooid'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>After this little edits, you&#8217;re ready to start using Groovy in your Android development.</p>
</div>
</div>
<div class="sect2">
<h3 id="_references">2.3. References</h3>
<div class="paragraph">
<p><a href="https://github.com/groovy/groovy-android-gradle-plugin">Groovy Android Gradle Plugin</a><br>
<a href="http://melix.github.io/blog/2014/06/grooid.html">Cedric Champeau&#8217;s Grooid post</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_annotations_2">3. Annotations</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="__onclick">3.1. @OnClick</h3>
<div class="paragraph">
<p>This annotation will trigger an event when a View (for example, a Button) is clicked.</p>
</div>
<div class="sect3">
<h4 id="_how_to_use">3.1.1. How to use</h4>
<div class="paragraph">
<p>The method should be this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public void onClick()
public void onClick(View v)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example">3.1.2. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnClick(R.id.button)
public void onClick() {
    Toast.makeText(this, "Button clicked", Toast.LENGTH_SHORT).show();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__onlongclick">3.2. @OnLongClick</h3>
<div class="paragraph">
<p>This annotation will trigger an event when a View (for example, a Button) is long-clicked.</p>
</div>
<div class="sect3">
<h4 id="_how_to_use_2">3.2.1. How to use</h4>
<div class="paragraph">
<p>The method should be this way:</p>
</div>
<div class="paragraph">
<p>public boolean onLongClick()
public boolean onLongClick(View v)
Notice it must return a boolean</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_2">3.2.2. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnLongClick(R.id.button)
public boolean onLongClick() {
    Toast.makeText(this, "Button long clicked", Toast.LENGTH_SHORT).show();
    return true;
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
More information about return <a href="http://developer.android.com/reference/android/view/View.OnLongClickListener.html">View.OnLongClickListener</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__onitemclick">3.3. @OnItemClick</h3>
<div class="paragraph">
<p>This annotation will trigger an event when an AbsListView (ListView, GridView&#8230;&#8203;) item is clicked.</p>
</div>
<div class="sect3">
<h4 id="_how_to_use_3">3.3.1. How to use</h4>
<div class="paragraph">
<p>The method should be this way (the method and variable names can be changed):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public void onItemClick(int position)
public void onItemClick(int position, AdapterView adapterView)
public void onItemClick(int position, AdapterView adapterView, View clickedView)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_3">3.3.2. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnItemClick(R.id.list)
public void onItemClick(int position) {
    Toast.makeText(this, "Item $position clicked", Toast.LENGTH_SHORT).show();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__onitemlongclick">3.4. @OnItemLongClick</h3>
<div class="paragraph">
<p>This annotation will trigger an event when an AbsListView (ListView, GridView&#8230;&#8203;) item is long-clicked.</p>
</div>
<div class="sect3">
<h4 id="_how_to_use_4">3.4.1. How to use</h4>
<div class="paragraph">
<p>The method should be this way (the method and variable names can be changed):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public boolean onItemClick(int position)
public boolean onItemClick(int position, AdapterView adapterView)
public boolean onItemClick(int position, AdapterView adapterView, View clickedView)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice it must return a boolean</p>
</div>
</div>
<div class="sect3">
<h4 id="_example_4">3.4.2. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnItemLongClick(R.id.list)
public void onItemLongClick(int position) {
    Toast.makeText(this, "Item $position long-clicked", Toast.LENGTH_SHORT).show();
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
More information about return <a href="http://developer.android.com/reference/android/view/View.OnLongClickListener.html">View.OnItemLongClick</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__onitemselected">3.5. @OnItemSelected</h3>
<div class="paragraph">
<p>This annotation will trigger an event when an AbsListView (ListView, GridView&#8230;&#8203;) item is selected.</p>
</div>
<div class="sect3">
<h4 id="_annotation_arguments">3.5.1. Annotation arguments</h4>
<div class="paragraph">
<p>@OnItemSelected uses an extra "method" argument to specify the listener method which will call this method.</p>
</div>
<div class="paragraph">
<p>The annotation must be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnItemSelected(value=R.id.my_view, method=OnItemSelected.Method.ITEM_SELECTED)
// or
@OnItemSelected(value=R.id.my_view, method=OnItemSelected.Method.NOTHING_SELECTED)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_use_5">3.5.2. How to use</h4>
<div class="paragraph">
<p>The method should be this way (the method and variable names can be changed):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public void onItemSelected(int position)
public void onItemSelected(int position, AdapterView adapterView)
public void onItemSelected(int position, AdapterView adapterView, View clickedView)

public void onNothingSelected(AdapterView adapterView)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_5">3.5.3. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnItemSelected(value=R.id.list, method=OnItemSelected.Method.ITEM_SELECTED)
public void onItemSelected(int position) {
    Toast.makeText(this, "Item $position selected", Toast.LENGTH_SHORT).show();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__onchecked">3.6. @OnChecked</h3>
<div class="paragraph">
<p>This annotation will trigger an event when a CompoundButton (for example, a RadioButton) is checked.</p>
</div>
<div class="sect3">
<h4 id="_how_to_use_6">3.6.1. How to use</h4>
<div class="paragraph">
<p>The method should be this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public boolean onChecked(boolean checked)
public boolean onChecked(CompoundButton button, boolean checked)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_6">3.6.2. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnChecked(R.id.radio_button)
public public boolean onChecked(CompoundButton button, boolean checked) {
    Toast.makeText(this, "Button checked: $checked", Toast.LENGTH_SHORT).show();
    return false;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__onfocuschanged">3.7. @OnFocusChanged</h3>
<div class="paragraph">
<p>This annotation will trigger an event when a View receives or loses focus.</p>
</div>
<div class="sect3">
<h4 id="_how_to_use_7">3.7.1. How to use</h4>
<div class="paragraph">
<p>The method should be this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public void onFocusChanged(boolean hasFocus)
public void onFocusChanged(View v, boolean hasFocus)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_7">3.7.2. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnFocusChanged(R.id.my_view)
public void onFocusChanged(boolean hasFocus) {
    Toast.makeText(this, "View has focus: $hasFocus", Toast.LENGTH_SHORT).show();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__ontouch">3.8. @OnTouch</h3>
<div class="paragraph">
<p>This annotation will trigger an event when a View is touched.</p>
</div>
<div class="sect3">
<h4 id="_how_to_use_8">3.8.1. How to use</h4>
<div class="paragraph">
<p>The method should be this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public boolean onTouch(MotionEvent event)
public boolean onClick(View v, MotionEvent event)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_8">3.8.2. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnTouch(R.id.button)
public boolean onTouch(MotionEvent event) {
    Toast.makeText(this, "Button touched, action: $event.action", Toast.LENGTH_SHORT).show();
    return false;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__onpagechanged">3.9. @OnPageChanged</h3>
<div class="paragraph">
<p>This annotation will trigger an event when a ViewPager scroll changes.</p>
</div>
<div class="sect3">
<h4 id="_annotation_arguments_2">3.9.1. Annotation arguments</h4>
<div class="paragraph">
<p>@OnPageChanged uses an extra "method" argument to specify the listener method which will call this method.</p>
</div>
<div class="paragraph">
<p>The annotation must be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnPageChanged(value=R.id.view_pager, method=OnPageChanged.Method.PAGE_SCROLLED)
// or
@OnPageChanged(value=R.id.view_pager, method=OnPageChanged.Method.PAGE_SELECTED)
// or
@OnPageChanged(value=R.id.view_pager, method=OnPageChanged.Method.PAGE_SCROLL_STATE_CHANGED)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_use_9">3.9.2. How to use</h4>
<div class="paragraph">
<p>The method should be this way (the method and variable names can be changed):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public void onPageScrolled(int position)
public void onPageScrolled(int position, float offset, int pixelOffset)

public void onPageSelected(int position)

public void onPageScrollStateChanged(int state)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_9">3.9.3. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnPageChanged(value=R.id.list, method=OnPageChanged.Method.PAGE_SELECTED)
public void onPageSelected(int position) {
    Toast.makeText(this, "Current page: $position", Toast.LENGTH_SHORT).show();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__ontextchanged">3.10. @OnTextChanged</h3>
<div class="paragraph">
<p>This annotation will trigger an event when an EditText&#8217;s text is changed.</p>
</div>
<div class="sect3">
<h4 id="_annotation_arguments_3">3.10.1. Annotation arguments</h4>
<div class="paragraph">
<p>@OnTextChanged uses an extra "method" argument to specify the listener method which will call this method.</p>
</div>
<div class="paragraph">
<p>The annotation must be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnTextChanged(value=R.id.edit_text, method=OnTextChanged.Method.BEFORE_TEXT_CHANGED)
// or
@OnTextChanged(value=R.id.edit_text, method=OnTextChanged.Method.ON_TEXT_CHANGED)
// or
@OnTextChanged(value=R.id.edit_text, method=OnTextChanged.Method.AFTER_TEXT_CHANGED)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_how_to_use_10">3.10.2. How to use</h4>
<div class="paragraph">
<p>The method should be this way (the method and variable names can be changed):</p>
</div>
<div class="paragraph">
<p><strong>BeforeTextChanged</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public void beforeTextChanged(CharSequence sequence)
public void beforeTextChanged(TextView textView, CharSequence sequence)
public void beforeTextChanged(CharSequence sequence, int start, int count, int after)
public void beforeTextChanged(TextView textView, CharSequence sequence, int start, int count, int after)</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>OnTextChanged</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public void onTextChanged(CharSequence sequence)
public void onTextChanged(TextView textView, CharSequence sequence)
public void onTextChanged(CharSequence sequence, int start, int before, int count)
public void onTextChanged(TextView textView, CharSequence sequence, int start, int before, int count)</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>AfterTextChanged</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public void afterTextChanged(Editable editable)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_10">3.10.3. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnTextChanged(value=R.id.edit_text, method=OnTextChanged.Method.ON_TEXT_CHANGED)
public void onTextChanged(CharSequence sequence) {
    Toast.makeText(this, "Sentence written: $sequence", Toast.LENGTH_SHORT).show();
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__oneditoraction">3.11. @OnEditorAction</h3>
<div class="paragraph">
<p>This annotation will trigger an event when a TextView receives an action such as pressing ENTER key or a custom action on the keyboard.</p>
</div>
<div class="sect3">
<h4 id="_how_to_use_11">3.11.1. How to use</h4>
<div class="paragraph">
<p>The method should be this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public boolean onEditorAction(KeyEvent event)
public boolean onEditorAction(TextView textView, KeyEvent event)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_11">3.11.2. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnEditorAction(R.id.edit_text)
public boolean onEditorAction(KeyEvent event) {
    Toast.makeText(this, "Editor action received", Toast.LENGTH_SHORT).show();
    return false;
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
More information <a href="http://developer.android.com/reference/android/widget/TextView.html#setOnEditorActionListener(android.widget.TextView.OnEditorActionListener)">TextView.setOnEditorActionListener</a>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__onuithread">3.12. @OnUIThread</h3>
<div class="paragraph">
<p>This annotation will execute the code inside the method on the UI Thread using a Handler.</p>
</div>
<div class="sect3">
<h4 id="_example_12">3.12.1. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnUIThread()
public void getResult(Context context, boolean value){
    if(value == true) {
        Toast.makeText(context, "Result was: $value", Toast.LENGTH_SHORT).show()
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__onbackground">3.13. @OnBackground</h3>
<div class="paragraph">
<p>This annotation will execute the code inside the method on a background Thread.</p>
</div>
<div class="sect3">
<h4 id="_example_13">3.13.1. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@OnBackground()
public boolean getResult(){...}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__saveinstance">3.14. @SaveInstance</h3>
<div class="paragraph">
<p>This annotation will help you to reduce your persistance code. It has two sepparated behaviours: When it&#8217;s applied to Views, and when it&#8217;s not.</p>
</div>
<div class="paragraph">
<p>Instead of having to override the onSaveInstanceState method, add everything to the Bundle, check if the savedInstanceState was null at the onCreate&#8230;&#8203; you can simplify it by only annotating a variable with @SaveState.</p>
</div>
<div class="sect3">
<h4 id="_how_to_use_12">3.14.1. How to use</h4>
<div class="paragraph">
<p>In order to work propperly, you must ensure that:</p>
</div>
<div class="paragraph">
<p>Your variable can be written to a Bundle object (check Bundle documentation)
You must make a call to SwissKnife.restoreState(this, savedInstanceState) in order for the state to be restored.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Keep calm. Don&#8217;t worry if you manually override the onSaveInstanceState method with some code, it doesn&#8217;t matter, SwissKnife will append any necessary statements to the already existing code
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_example_14">3.14.2. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@SaveInstance
public int myInt

// You can also set a custom tag to your variable
@SaveInstance("MYSTRING")
public String myString

@Override
public void onCreate(Bundle savedInstanceState){
    // Your previous code
    SwissKnife.restoreState(this, savedInstanceState)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In case your variable is not one of the types that can be written to a Bundle, the compilation will fail and show which class is giving the error.</p>
</div>
<div class="paragraph">
<p>Of course, it supports Parcelable objects (also arrays and ArrayLists).</p>
</div>
<div class="paragraph">
<p>Make sure you check the sample for more examples.</p>
</div>
</div>
<div class="sect3">
<h4 id="_views">3.14.3. Views</h4>
<div class="paragraph">
<p>@SaveInstance can also be used to save the state of views. Though Android usually will do that automatically if the view has an id, you can still use this annotation to force that restoration or use it on views without id.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@SaveInstance
TextView myTextView;

@Override
public void onCreate(Bundle savedInstanceState){
    // Your previous code
    if(savedInstanceState == null) {
         // If the Activity recreates, myTextView will retain the "Hey!" text
         myTextView.setText("Hey!")
    }
    SwissKnife.restoreState(this, savedInstanceState)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>How is this done? Every view has two methods, onSaveInstanceState() and onRestoreInstanceState(Parcelable) in which they will store their state when called. Usually those methods are called from their containing Activities and Fragments as they are destroyed and recreated when their homonymous methods are called. SwissKnife just forces those calls when needed.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__parcelable">3.15. @Parcelable</h3>
<div class="paragraph">
<p><code>@Parcelable</code> lets you automatically turn any class into a Parcelable object.</p>
</div>
<div class="paragraph">
<p>It will pick every parcelable or serializable attribute of the annotated class and put it into a <code>Parcel</code> object, just like you would have to do implementing the Parcelable interface.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public void writeToParcel(Parcel parcel, int flags)

public int describeContents()

public static Parcelable.Creator CREATOR

// Constructor to create a MyClass instance from a Parcel object
public MyClass(Parcel source)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Also, it will create a <code>MyClass.Creator</code> class which will implement <code>Parcelable.Creator</code> for you.</p>
</div>
<div class="sect3">
<h4 id="_how_to_use_13">3.15.1. How to use</h4>
<div class="paragraph">
<p>Just add <code>@Parcelable</code> annotation to the class you want to use as a Parcelable object.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<strong>What about circular dependencies?</strong> Even having only a few classes, you can end up having circular dependencies, where having two parcelable classes A and B, A contains a B instance and B contains an A instance. If you used @Parcelable with them both your app would go crazy while trying to save them as it will end on a never-ending cycle. What to do here? Use exclude parameter on the annotation.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_exclude_some_properties">3.15.2. Exclude some properties</h4>
<div class="paragraph">
<p>If there is some attribute that you don&#8217;t want parceled, you can explicitly do that using the <code>exclude</code> parameter on the annotation like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@Parcelable(exclude={anotherObject;andThisToo})
class ParcelableClass {
...
    ParcelableClass anotherObject
    SomeOtherClass andThisToo</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_example_15">3.15.3. Example</h4>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@Parcelable
class ParcelableClass {

    int id
    String name

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Will generate:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">class ParcelableClass implements Parcelable {
...
    public ParcelableClass(Parcel source) {
        this.id = source.readInt()
        this.name = source.readString()
    }

    public void writeToParcel(Parcel out) {
        out.writeInt(id)
        out.writeString(name)
   }
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>What classes can be parceled?</p>
</div>
<div class="paragraph">
<p>As previously said, <code>@Parcelable</code> will only parcel what can be put into a Parcel object. This classes are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>String</p>
</li>
<li>
<p>String[]</p>
</li>
<li>
<p>List</p>
</li>
<li>
<p>Map</p>
</li>
<li>
<p>SparseArray</p>
</li>
<li>
<p>Parcelable</p>
</li>
<li>
<p>Parcelable[]</p>
</li>
<li>
<p>Bundle</p>
</li>
<li>
<p>CharSequence</p>
</li>
<li>
<p>Serializable</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Of course, <strong>any other primitive variable (int, long, float, char, etc.) can be parceled too</strong> , as well as arrays (int[], double[]&#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>Also, please take in mind that <code>static</code> variables won&#8217;t be parceled as they don&#8217;t belong to a single instance.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__extra">3.16. @Extra</h3>
<div class="paragraph">
<p>This annotation will generate hidden code for automatically parsing
Intent extras.</p>
</div>
<div class="sect3">
<h4 id="_how_to_use_14">3.16.1. How to use</h4>
<div class="paragraph">
<p>You would put extras on an <em>Intent</em> as you usually do:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">Intent goToActivityIntent = new Intent(this, SomeActivity.class)
goToActivityIntent.putExtra("some_key", "my api key")
startActivity(goToActivityIntent)</code></pre>
</div>
</div>
<div class="paragraph">
<p>To parse the <code>"some_key"</code> extra, you would add this field:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">@Extra("some_key")
String myKey

// or

@Extra
String some_key</code></pre>
</div>
</div>
<div class="paragraph">
<p>And then, to load them, you would need to call:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">public void onCreate(Bundle savedInstanceState) {
    ...
    SwissKnife.loadExtras(this)
    println myKey // It's usable!
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_what_can_be_retrieved_as_an_extra">3.16.2. What can be retrieved as an extra?</h4>
<div class="paragraph">
<p>Almost everything that can be put into a Bundle, just like with <code>@SaveInstance</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Primitive types <strong>(int, double, long, char&#8230;&#8203;)</strong>.</p>
</li>
<li>
<p>Classes that implement <code>Parcelable</code> or <code>Serializable</code>.</p>
</li>
<li>
<p>Arrays an Lists all above.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dsl_methods_aka_method_extensions">4. DSL Methods - aka method extensions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>What we call 'DSL Methods' are actually 'Extension Methods'.</p>
</div>
<div class="paragraph">
<p>Still no clue of what those are?</p>
</div>
<div class="paragraph">
<p>Imagine you have GPS coordinates in (lat, lon) format, with lat and lon being doubles. If you want to show that on screen, you&#8217;d have to format them as 'String' with a desired number of decimal positions.</p>
</div>
<div class="paragraph">
<p>So you could write in <strong>Java</strong>:</p>
</div>
<div class="listingblock">
<div class="title">DoubleUtils.java</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public class DoubleUtils {

    public static String doubleWithDecimals(double number, int decimals) {
        String parseDef = "#."+"0"*decimals
        DecimalFormat formatter = new DecimalFormat(parseDef)
        return formatter.format(number)
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>But why do you have to add a whole class just for that - or even worse, mix it with some random code?</p>
</div>
<div class="paragraph">
<p>Wouldn&#8217;t this method fit perfectly inside the 'Double' class?</p>
</div>
<div class="paragraph">
<p>Well, in <strong>Groovy</strong> that can be done and is quite simple. You could write an extension method and just use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">// Actually, Groovy does have ".trunc(int)" extension method for that
String coordStr = coordinate.withDecimals(4)</code></pre>
</div>
</div>
<div class="paragraph">
<p>So if that can be done to data classes, why shouldn&#8217;t we use it on Android?</p>
</div>
<div class="paragraph">
<p>Short answer is: <strong>we do.</strong></p>
</div>
<div class="sect2">
<h3 id="_types_of_dsl_methods">4.1. Types of DSL methods</h3>
<div class="paragraph">
<p>The DSL methods written so far can be classified on these big groups:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>View</strong> methods.</p>
</li>
<li>
<p><strong>Context</strong> methods.</p>
</li>
<li>
<p><strong>Fragment</strong> methods.</p>
</li>
<li>
<p><strong>Bundle</strong> methods.</p>
</li>
<li>
<p><strong>Event</strong> methods.</p>
</li>
<li>
<p><strong>Misc</strong> methods.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_view_methods">4.2. View methods</h3>
<div class="sect3">
<h4 id="__view_fragment_activity_view_int_id_optional_closure_modifier">4.2.1. (View|Fragment|Activity).view(int id, (Optional)Closure modifier)</h4>
<div class="paragraph">
<p>A short for <code>findViewById(int)</code>, can be used from <strong>Activity, View and Fragment</strong> instances.</p>
</div>
<div class="paragraph">
<p>The optional closure is a way to modify the retrieved item.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def myTextView = activity.view(R.id.text_view) {
    def textView = it as TextView
    textView.setText("Hi there!")
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__view_fragment_activity_text_int_id_optional_closure_modifier">4.2.2. (View|Fragment|Activity).text(int id, (Optional)Closure modifier)</h4>
<div class="paragraph">
<p>Retrieves a View, but it is downcasted to <code>TextView</code> before it&#8217;s returned and configured using the optional closure. Can be used from <strong>Activity, View and Fragment</strong> instances.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def myTextView = activity.text(R.id.text_view) {
    it.setText("Hi there!")
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__view_fragment_activity_edittext_int_id_optional_closure_modifier">4.2.3. (View|Fragment|Activity).editText(int id, (Optional)Closure modifier)</h4>
<div class="paragraph">
<p>Retrieves a View, but it is downcasted to <code>EditText</code> before it&#8217;s returned and configured using the optional closure. Can be used from <strong>Activity, View and Fragment</strong> instances.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def myEditText = activity.editText(R.id.edittext) {
    it.setHint("Type your name")
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__view_fragment_activity_button_int_id_optional_closure_modifier">4.2.4. (View|Fragment|Activity).button(int id, (Optional)Closure modifier)</h4>
<div class="paragraph">
<p>Retrieves a View, but it is downcasted to <code>Button</code> before it&#8217;s returned and configured using the optional closure. Can be used from <strong>Activity, View and Fragment</strong> instances.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def myButton = activity.button(R.id.button) {
    it.setBackgroundColor(color)
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__view_fragment_activity_image_int_id_optional_closure_modifier">4.2.5. (View|Fragment|Activity).image(int id, (Optional)Closure modifier)</h4>
<div class="paragraph">
<p>Retrieves a View, but it is downcasted to <code>ImageView</code> before it&#8217;s returned and configured using the optional closure. Can be used from <strong>Activity, View and Fragment</strong> instances.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def myImageVIew = activity.image(R.id.image_view) {
    it.setDrawable(R.drawable.photo)
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__view_fragment_activity_aslistview_int_id_listadapter_adapter">4.2.6. (View|Fragment|Activity).asListView(int id, ListAdapter adapter)</h4>
<div class="paragraph">
<p>Retrieves a <code>ListView</code>, applying the provided adapter to it. Can be used from <strong>Activity, View and Fragment</strong> instances.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def listView = activity.asListView(R.id.list_view, adapter)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__iterable_aslistview_context_context_int_id_int_rowlayoutid_optional_closure_closure">4.2.7. (Iterable).asListView(Context context, int id, int rowLayoutId, (Optional) Closure closure)</h4>
<div class="paragraph">
<p>Retrieves a <code>ListView</code> and configures it. Can be used from <strong>an Iterable instance</strong>, such as <strong>List, Set</strong>, etc. The internal adapter is a <code>GArrayAdapter</code> which executes the <code>closure</code> param to configure the rows.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">myListOfStrings.asListView(context, R.id.list_view, R.layout.list_row) { String item, View view -&gt;
    view.text(R.id.title) {
        it.setText(item)
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__view_fragment_activity_aslistview_int_id_int_rowlayoutid_iterable_items_optional_closure_closure">4.2.8. (View|Fragment|Activity).asListView(int id, int rowLayoutId, Iterable items, (Optional) Closure closure)</h4>
<div class="paragraph">
<p>Retrieves a <code>ListView</code> and configures it. Can be used from <strong>Acitvity, Fragment or View</strong> instances. The internal adapter is a <code>GArrayAdapter</code> which executes the <code>closure</code> param to configure the rows.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">containerView.asListView(R.id.list_view, R.layout.list_row, items) { String item, View view -&gt;
    view.text(R.id.title) {
        it.setText(item)
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__listview_onitem_int_rowlayoutid_iterable_items_optional_closure_closure">4.2.9. (ListView).onItem(int rowLayoutId, Iterable items, (Optional) Closure closure)</h4>
<div class="paragraph">
<p>Creates a <code>GArrayAdapter</code> which will execute the closure to configure the rows. Can be used from a <strong>ListView</strong> instance.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">listView.onItem(R.layout.list_row, items) { String item, View view -&gt;
    view.text(R.id.title) {
        it.setText(item)
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__view_show">4.2.10. (View).show()</h4>
<div class="paragraph">
<p>Makes view&#8217;s visibility <code>VISIBLE</code>. Can be called from a <strong>View</strong> instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="__view_hide">4.2.11. (View).hide()</h4>
<div class="paragraph">
<p>Makes view&#8217;s visibility <code>GONE</code>. Can be called from a <strong>View</strong> instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="__view_visible_boolean_visible_optional_closure">4.2.12. (View).visible(boolean visible, (Optional) closure)</h4>
<div class="paragraph">
<p>Makes view&#8217;s visibility <code>VISIBLE</code> if <code>visible</code> is true, <code>GONE</code> if it&#8217;s false and applies the provided closure to it. Can be called from a <strong>View</strong> instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="__activity_getrootview">4.2.13. (Activity).getRootView()</h4>
<div class="paragraph">
<p>Gets an <strong>Activity</strong>'s root view. Can be called from an <strong>Activity</strong> instance.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_context_methods">4.3. Context methods</h3>
<div class="sect3">
<h4 id="__context_log_string_message_optional_throwable_throwable">4.3.1. (Context).log(String message, (Optional)Throwable throwable)</h4>
<div class="paragraph">
<p>Sends a <strong>DEBUG</strong> message to logcat including the provided message and optional throwable exception. Can be called from any Object.</p>
</div>
</div>
<div class="sect3">
<h4 id="__context_getcompatnotificationmanager">4.3.2. (Context).getCompatNotificationManager()</h4>
<div class="paragraph">
<p>Get a <code>CompatNotificationManager</code> instance for the current <code>Context</code>. Can be called from a <strong>Context</strong> instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="__context_shownotification_int_notificationid_notification_notification">4.3.3. (Context).showNotification(int notificationId, Notification notification)</h4>
<div class="paragraph">
<p>Sends the provided notification with its notificationId. Can be called from a <strong>Context</strong> instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="__context_shownotification_int_notificationid_closure_notificationspec">4.3.4. (Context).showNotification(int notificationId, Closure notificationSpec)</h4>
<div class="paragraph">
<p>Sends the a notification with the provided notificationId, the notification will be created on <code>notificationSpec</code> with `NotificationCompat.Builder&#8217;s methods. Can be called from a <strong>Context</strong> instance.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">context.showNotification(1234) {
    contentTitle = "New message!"
    ongoing = false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__context_notification_closure_notificationspec">4.3.5. (Context).notification(Closure notificationSpec)</h4>
<div class="paragraph">
<p>Creates a notification from <code>notificationSpec</code> with `NotificationCompat.Builder&#8217;s methods. Can be called from a <strong>Context</strong> instance.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def notification = context.notification {
    contentTitle = "New message!"
    ongoing = false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__context_bigtextstyle_closure_notificationspec">4.3.6. (Context).bigTextStyle(Closure notificationSpec)</h4>
<div class="paragraph">
<p>Creates a <code>BigTextStyle</code> notification from <code>notificationSpec</code> with `NotificationCompat.Builder&#8217;s methods. Can be called from a <strong>Context</strong> instance.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def notification = context.bigTextStyle {
    contentTitle = "New message!"
    ongoing = false
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__context_pendingactivityintent_int_requestcode_intent_intent_int_flags">4.3.7. (Context).pendingActivityIntent(int requestCode, Intent intent, int flags)</h4>
<div class="paragraph">
<p>Creates a <code>PendingIntent</code> to an <code>Activity</code>. Can be called from a <strong>Context</strong> instance.</p>
</div>
</div>
<div class="sect3">
<h4 id="__context_intent_class_class">4.3.8. (Context).intent(Class class)</h4>
<div class="paragraph">
<p>Creates an explicit <code>Intent</code> to the provided class. Can be called from a <strong>Context</strong> instance.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def intent = context.intent(OtherActivity)
context.startActivity(intent)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__context_startactivity_class_activity_activityclass_closure_closure">4.3.9. (Context).startActivity(Class&lt;Activity&gt; activityClass, Closure closure)</h4>
<div class="paragraph">
<p>Creates an explicit <code>Intent</code> to an <code>Activity</code> of the provided class, the Intent can be modified using the closure. Can be called from a <strong>Context</strong> instance.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">context.startActivity(AnotherActivity) {
    putExtra("key", value)
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_fragment_methods">4.4. Fragment methods</h3>
<div class="sect3">
<h4 id="_class_fragment_withargs_context_context_map_string_args">4.4.1. Class&lt;Fragment&gt;.withArgs(Context context, Map&lt;String, ?&gt; args)</h4>
<div class="paragraph">
<p>Creates a <code>Fragment</code> of the selected type with the <code>args</code> pairs as arguments. Can be called from any class that inherits <code>Fragment</code>.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def fragment = MyFragment.withArgs(context, ["page": 0])</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_class_fragment_withargs_context_context_bundle_args">4.4.2. Class&lt;Fragment&gt;.withArgs(Context context, Bundle args)</h4>
<div class="paragraph">
<p>Creates a <code>Fragment</code> of the selected type with the <code>args</code> <code>Bundle</code> as arguments. Can be called from any class that inherits <code>Fragment</code>.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def fragment = MyFragment.withArgs(context, bundle)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__fragmentactivity_addfragment_closure_transactionspec">4.4.3. (FragmentActivity).addFragment(Closure transactionSpec)</h4>
<div class="paragraph">
<p>Commits an <strong>add</strong> <code>FragmentTransaction</code> with the <code>transactionSpec</code> values.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">fragmentActivity.addFragment {
    replacedViewId = R.id.container
    fragment = myFragment
    // These 2 are not required
    addToBackStack = false
    customAnimations = null
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__fragmentactivity_replacefragment_closure_transactionspec">4.4.4. (FragmentActivity).replaceFragment(Closure transactionSpec)</h4>
<div class="paragraph">
<p>Commits a <strong>replace</strong> <code>FragmentTransaction</code> with the <code>transactionSpec</code> values.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">fragmentActivity.replaceFragment {
    replacedViewId = R.id.container
    fragment = myFragment
    // These 2 are not required
    addToBackStack = false
    customAnimations = null
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bundle_methods">4.5. Bundle methods</h3>
<div class="sect3">
<h4 id="_bundle_frommap_map_string_argsmap">4.5.1. Bundle.fromMap(Map&lt;String, ?&gt; argsMap)</h4>
<div class="paragraph">
<p>Turns a <code>Map</code> object with <code>String</code> keys into a <code>Bundle</code>. It will only add values that can be put into a <code>Bundle</code> object. Can be called from <code>Bundle</code> class.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def myMap = ["id": 1, "value": parcelableEntity]
def bundle = Bundle.fromMap(myMap)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__map_asbundle">4.5.2. (Map).asBundle()</h4>
<div class="paragraph">
<p>Turns a <code>Map</code> object with <code>String</code> keys into a <code>Bundle</code>. It will only add values that can be put into a <code>Bundle</code> object. Can be called from a <code>Map&lt;String, ?&gt;</code> instance.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def myMap = ["id": 1, "value": parcelableEntity]
def bundle = myMap.asBundle()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__bundle_putfrommap_map_string_argsmap">4.5.3. (Bundle).putFromMap(Map&lt;String, ?&gt; argsMap)</h4>
<div class="paragraph">
<p>Adds a <code>Map</code> object with <code>String</code> keys to a <code>Bundle</code>. It will only add values that can be put into a <code>Bundle</code> object. Can be called from a <code>Bundle</code> instance.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">def myMap = ["id": 1, "value": parcelableEntity]
def myBundle = new Bundle()
myBundle.putFromMap(myMap)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_event_methods">4.6. Event methods</h3>
<div class="sect3">
<h4 id="__view_onclick_closure_closure">4.6.1. (View).onClick(Closure closure)</h4>
<div class="paragraph">
<p>Sets a <code>View&#8217;s `OnClickListener</code> and executes the closure when it&#8217;s called.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">myButton.onClick {
    callSomeMethod()
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__view_onlongclick_closure_closure">4.6.2. (View).onLongClick(Closure closure)</h4>
<div class="paragraph">
<p>Sets a <code>View&#8217;s `OnLongClickListener</code> and executes the closure when it&#8217;s called.</p>
</div>
<div class="paragraph">
<p>The closure must <strong>return a boolean value</strong>.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">myButton.onClick {
    callSomeMethod()
    return true
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__listview_onclick_closure_closure">4.6.3. (ListView).onClick(Closure closure)</h4>
<div class="paragraph">
<p>Sets a <code>ListView&#8217;s `OnItemClickListener</code> and executes the closure when it&#8217;s called.</p>
</div>
<div class="paragraph">
<p>Valid closure parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ItemClass item</p>
</li>
<li>
<p>ItemClass item, View v</p>
</li>
<li>
<p>ItemClass item, View v, int position</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">myList.onClick { Object item, View v -&gt;
    callSomeMethod(item)
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__view_onlongclick_closure_closure_2">4.6.4. (View).onLongClick(Closure closure)</h4>
<div class="paragraph">
<p>Sets a <code>View&#8217;s `OnItemLongClickListener</code> and executes the closure when it&#8217;s called.</p>
</div>
<div class="paragraph">
<p>Valid closure parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ItemClass item</p>
</li>
<li>
<p>ItemClass item, View v</p>
</li>
<li>
<p>ItemClass item, View v, int position</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Must <strong>return a boolean value</strong>.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">myList.onLongClick { Object item, View v -&gt;
    callSomeMethod()
    return true
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_misc_methods">4.7. Misc methods</h3>
<div class="sect3">
<h4 id="__object_async_closure_closure">4.7.1. (Object).async(Closure closure)</h4>
<div class="paragraph">
<p><code>AsyncTasks</code> using closures.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">async {
    return getSomeDataFromWeb()
} before {
    prepareEverything()
} after { String result -&gt;
    showItOnUI()
} error { Exception e -&gt;
    showError()
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__string_asimage">4.7.2. (String).asImage()</h4>
<div class="paragraph">
<p>Download and decode a <code>Bitmap</code> from a <code>String</code> url.</p>
</div>
<div class="paragraph">
<p>'Example:'</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-groovy" data-lang="groovy">async {
    return myOnlinePhotoURL.asImage()
} after { Bitmap bitmap -&gt;
    showImage(bitmap)
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_proguard">5. Using Proguard</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First of all, thanks to <a href="https://github.com/marcoRS">@marcoRS</a> for his <a href="https://github.com/marcoRS/groovy-android/">base proguard config file</a>, in which I based the one I&#8217;m going to show you.</p>
</div>
<div class="sect2">
<h3 id="_reflection_and_proguard_issues">5.1. Reflection and ProGuard issues</h3>
<div class="paragraph">
<p>If you try to use ProGuard on a project that uses SwissKnife, you will see how most injection methods are not on the final classes. Why does this happen?</p>
</div>
<div class="paragraph">
<p>ProGuard shrinks all unused methods by default from your code. As most methods are called using Reflection, ProGuard just assumes that they are never called at all and shrinks them automatically, making you app not work anymore. To fix this, you must put this code on your proguard-rules.pro:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-text" data-lang="text"># Groovy stuff so the compiler doesn't complain
-dontwarn org.codehaus.groovy.**
-dontwarn groovy**
-keep class org.codehaus.groovy.vmplugin.**
-keep class org.codehaus.groovy.runtime.dgm*
-keepclassmembers class org.codehaus.groovy.runtime.dgm* {*;}
-keepclassmembers class ** implements org.codehaus.groovy.runtime.GeneratedClosure {*;}
-keepclassmembers class org.codehaus.groovy.reflection.GroovyClassValue* {*;}

# Don't shrink SwissKnife methods
-dontshrink class com.arasthel.swissknife.**

# Don't shrink annotated methods on your classes
-dontshrink class com.myname.myproject.MyClass
-dontshrink class com.myname.myproject.subpackage.**</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_intellij_plugin">6. Intellij Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can find it on <a href="http://plugins.jetbrains.com/plugin/7538?pr=">JetBrains Plugin Repo</a>.</p>
</div>
<div class="paragraph">
<p>Using the plugin is really simple. You just have to install it, go to a Groovy class and open Generate menu. There, you will find this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/intellij-1.jpg" alt="intellij 1">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/intellij-2.jpg" alt="intellij 2">
</div>
</div>
<div class="paragraph">
<p>Then, you select the desired annotation and a list of compatible methods will be shown:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/intellij-3.jpg" alt="intellij 3">
</div>
</div>
<div class="paragraph">
<p>After you select one, the desired method will be appended to your class:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/intellij-4.jpg" alt="intellij 4">
</div>
</div>
<div class="paragraph">
<p>The names of the methods and variables can be changed to whatever you want if you keep the argument list structure.</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-04-07 10:41:30 CEST
</div>
</div>
</body>
</html>